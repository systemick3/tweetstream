<p></p>

<div ng-hide="tweetapp.authorised">

	<div id="page" class="login" ng-controller="loginCtrl">

		<h2>Login</h2>
	  <div class="error" ng-show="formSubmitError">{{ formSubmitError }}</div>
	  <div class="error" ng-show="loginError">{{ loginError }}</div>
		<div class="form" ng-hide="formSuccess">
			<form name="twitterLoginForm" method="post" action="http://localhost:3001/tweetapp/login/twitter">
				<div class="well">
			  	<input type="hidden" value="123456789" />
			  	<div class="form-group">
			  		<input type="submit" value="Log in using Twitter" />
			  	</div>
			  </div>
			</form>
		</div>

	</div>

</div>

<div ng-show="tweetapp.authorised">

	<div id="page" class="home" ng-hide="authorised">

		<contact-modal></contact-modal>

		<about-modal></about-modal>

		<div class="error" ng-show="twitterDataError">{{ twitterDataError }}</div>

		<div class="column left" ng-controller="streamCtrl">

			<tweet-icon-panel></tweet-icon-panel>

			<h3>Tweets</h3>

			<messages></messages>

			<div class="stream-state" ng-hide="streamPaused"><img src="/assets/images/loading.gif" /> <span>Loading tweets ... </span></div>
			<div class="stream-state" ng-show="streamPaused">Stream is currently paused</span></div>
			<div class="stream" style="min-height: 500px" data-stream-tweet-list="streamTweets" class="ngFade"></div>

		</div>

		<div class="column right hidden-xs">

			<h3>Trending</h3>
			<div class="panel trends" ng-controller="trendCtrl">
				<div class="error" ng-show="trendsError">{{ trendsError }}</div>
				<div class="trend" ng-repeat="trend in trends | filter: selectTrends">
					<a href="" title="Filter by {{ trend.name }}" ng-click="setStreamFilter(trend.name)">{{ trend.name }}</a>
				</div>
				<filter-change></filter-change>
			</div>

			<div ng-show="userTweetsExist">
				<h3>Your tweets</h3>
				<div class="panel user-tweets">
					<div class="error" ng-show="userTweetError">{{ userTweetError }}</div>
					<div class="user-tweet panel tweet ngFade" ng-repeat="userTweet in userTweets">
						<div class="name">
							<a href="http://twitter.com/{{ userTweet.user.screen_name }}">
								<span>{{ userTweet.user.name }}</span>
								<span>{{ userTweet.user.screen_name }}</span>
								{{ userTweet.short_date }}
							</a>
						</div>
						<div class="text" ng-bind-html="userTweet.display_text"></div>
					</div>
				</div>
			</div>

			<div ng-show="favouritesExist">
				<h3>Favourites</h3>
				<div class="panel favourites">
					<div class="error" ng-show="favouriteError">{{ favouriteError }}</div>
					<div class="favourite panel tweet ngFade" ng-repeat="favourite in favouriteTweets">
						<div class="name">
							<a href="http://twitter.com/{{ favourite.user.screen_name }}">
								<span>{{ favourite.user.name }}</span>
								<span>{{ favourite.user.screen_name }}</span>
								{{ favourite.short_date }}
							</a>
						</div>
						<div class="text" ng-bind-html="favourite.display_text"></div>
					</div>
				</div>
			</div>

			<div class="panel site-info hidden-xs">
				<span><a href="http://js.systemick-web-development.co.uk" target="_blank">&copy; Systemick {{ currentYear }}</a></span>
				<span><a href="" ng-click="toggleContact()">Contact</a></span>
				<span><a href="" ng-click="toggleAbout()">About</a></span>
				<span><a href="#/logout">Logout</a></span>
			</div>

		</div>

		<div class="clearfix"></div>

	</div>

</div>